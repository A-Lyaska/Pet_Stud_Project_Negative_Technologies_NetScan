<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NT_NetScan ‚Äî –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞—Ç–∞–∫</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white">
    <div class="container mx-auto p-6">
        <h1 class="text-3xl font-bold mb-6 text-center">üõ°Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∞—Ç–∞–∫–∏</h1>

        <div class="mb-6 text-center">
            <label for="filter" class="text-sm text-gray-400">–§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É:</label>
            <select id="filter" class="bg-gray-800 text-white px-3 py-1 rounded ml-2">
                <option value="all">–í—Å–µ</option>
                <option value="SYN Port Scan">SYN –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                <option value="XMAS Port Scan">XMAS –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                <option value="NULL Port Scan">NULL –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                <option value="FIN Port Scan">FIN –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                <option value="SSH Brute-force">SSH Brute-force</option>
                <option value="–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ Reverse Shell –Ω–∞ –ø–æ—Ä—Ç—É">Reverse Shell</option>
                <option value="MAC Flooding">MAC Flooding</option>
                <option value="DHCP Starvation">DHCP Starvation</option>
                <option value="–ü–æ–¥–æ–∑—Ä–µ–Ω–∏–µ –Ω–∞ ICMP-—Ç—É–Ω–Ω–µ–ª—å (–±–æ–ª—å—à–æ–π –æ–±—ä—ë–º –ø–∞–∫–µ—Ç–æ–≤):">ICMP Tunnel</option>
                <option value="ICMP Flood">ICMP Flood</option>
                <option value="ARP Spoofing Detected">ARP Spoofing</option>
            </select>
        </div>

        <div id="log-container" class="grid gap-4"></div>
    </div>

    <script>
        async function loadLogs() {
            const type = document.getElementById("filter").value;
            const res = await fetch(`/logs?type=${encodeURIComponent(type)}`);
            const data = await res.json();
            const container = document.getElementById("log-container");
            container.innerHTML = "";

            if (data.length === 0) {
                container.innerHTML = `<div class="text-center text-gray-400">–ù–µ—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ç–∞–∫</div>`;
                return;
            }

            data.forEach(attack => {
                const div = document.createElement("div");
                div.className = "bg-gray-800 p-4 rounded-xl shadow-lg hover:bg-gray-700 transition";
                div.innerHTML = `
                    <div class="flex justify-between items-center">
                        <span class="text-lg font-semibold text-red-400">${attack.type}</span>
                        <span class="text-sm text-gray-400">${attack.time}</span>
                    </div>
                    <div class="mt-2 text-sm text-gray-300">–ò—Å—Ç–æ—á–Ω–∏–∫: ${attack.ip}</div>
                `;
                container.appendChild(div);
            });
        }

        document.getElementById("filter").addEventListener("change", loadLogs);
        setInterval(loadLogs, 5000);
        window.onload = loadLogs;
    </script>
</body>
</html>
